<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="html/html; charset=utf-8" />
		<title>AudioStreamer Class Reference</title>
		<meta id="xcode-display" name="xcode-display" content="render"/>
		<meta name="viewport" content="width=550" />
		<link rel="stylesheet" type="text/css" href="../css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="../css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.0.5 (build 789)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="../index.html">AudioStreamer </a></h1>
				<a id="developerHome" href="../index.html">_</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">AudioStreamer Class Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar">
				<li id="toc_button">
					<button aria-label="Show Table of Contents" role="checkbox" class="open" id="table_of_contents"><span class="disclosure"></span>Table of Contents</button>
				</li>
				<li id="jumpto_button" role="navigation">
					<select id="jumpTo">
	<option value="top">Jump To&#133;</option>
	
	<option value="overview">Overview</option>
	
	
	
	
	<option value="tasks">Tasks</option>
	
	
	
	
	
	<option value="properties">Properties</option>
	
	<option value="//api/name/bufferCnt">&nbsp;&nbsp;&nbsp;&nbsp;bufferCnt</option>
	
	<option value="//api/name/bufferInfinite">&nbsp;&nbsp;&nbsp;&nbsp;bufferInfinite</option>
	
	<option value="//api/name/bufferSize">&nbsp;&nbsp;&nbsp;&nbsp;bufferSize</option>
	
	<option value="//api/name/errorCode">&nbsp;&nbsp;&nbsp;&nbsp;errorCode</option>
	
	<option value="//api/name/fileType">&nbsp;&nbsp;&nbsp;&nbsp;fileType</option>
	
	<option value="//api/name/httpHeaders">&nbsp;&nbsp;&nbsp;&nbsp;httpHeaders</option>
	
	<option value="//api/name/url">&nbsp;&nbsp;&nbsp;&nbsp;url</option>
	
	
	
	
	<option value="class_methods">Class Methods</option>
	
	<option value="//api/name/streamWithURL:">&nbsp;&nbsp;&nbsp;&nbsp;+ streamWithURL:</option>
	
	<option value="//api/name/stringForErrorCode:">&nbsp;&nbsp;&nbsp;&nbsp;+ stringForErrorCode:</option>
	
	
	
	
	<option value="instance_methods">Instance Methods</option>
	
	<option value="//api/name/calculatedBitRate:">&nbsp;&nbsp;&nbsp;&nbsp;- calculatedBitRate:</option>
	
	<option value="//api/name/duration:">&nbsp;&nbsp;&nbsp;&nbsp;- duration:</option>
	
	<option value="//api/name/isDone">&nbsp;&nbsp;&nbsp;&nbsp;- isDone</option>
	
	<option value="//api/name/isPaused">&nbsp;&nbsp;&nbsp;&nbsp;- isPaused</option>
	
	<option value="//api/name/isPlaying">&nbsp;&nbsp;&nbsp;&nbsp;- isPlaying</option>
	
	<option value="//api/name/isWaiting">&nbsp;&nbsp;&nbsp;&nbsp;- isWaiting</option>
	
	<option value="//api/name/pause">&nbsp;&nbsp;&nbsp;&nbsp;- pause</option>
	
	<option value="//api/name/play">&nbsp;&nbsp;&nbsp;&nbsp;- play</option>
	
	<option value="//api/name/progress:">&nbsp;&nbsp;&nbsp;&nbsp;- progress:</option>
	
	<option value="//api/name/seekToTime:">&nbsp;&nbsp;&nbsp;&nbsp;- seekToTime:</option>
	
	<option value="//api/name/setHTTPProxy:port:">&nbsp;&nbsp;&nbsp;&nbsp;- setHTTPProxy:port:</option>
	
	<option value="//api/name/setSOCKSProxy:port:">&nbsp;&nbsp;&nbsp;&nbsp;- setSOCKSProxy:port:</option>
	
	<option value="//api/name/setVolume:">&nbsp;&nbsp;&nbsp;&nbsp;- setVolume:</option>
	
	<option value="//api/name/start">&nbsp;&nbsp;&nbsp;&nbsp;- start</option>
	
	<option value="//api/name/stop">&nbsp;&nbsp;&nbsp;&nbsp;- stop</option>
	
	
	
</select>
				</li>
			</ul>
		</header>
		<nav id="tocContainer" class="isShowingTOC">
			<ul id="toc" role="tree">
				
<li role="treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#overview">Overview</a></span></li>




<li role="treeitem" id="task_treeitem"><span class="nodisclosure"></span><span class="sectionName"><a href="#tasks">Tasks</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Creating an audio stream">Creating an audio stream</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Properties of the audio stream">Properties of the audio stream</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Management of the stream and testing state">Management of the stream and testing state</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#task_Calculated properties and modifying the stream (all can fail)">Calculated properties and modifying the stream (all can fail)</a></span></li>
	
</ul></li>





<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#properties">Properties</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/bufferCnt">bufferCnt</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/bufferInfinite">bufferInfinite</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/bufferSize">bufferSize</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/errorCode">errorCode</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/fileType">fileType</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/httpHeaders">httpHeaders</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/url">url</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#class_methods">Class Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/streamWithURL:">streamWithURL:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/stringForErrorCode:">stringForErrorCode:</a></span></li>
	
</ul></li>



<li role="treeitem" class="children"><span class="disclosure"></span><span class="sectionName"><a href="#instance_methods">Instance Methods</a></span><ul>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/calculatedBitRate:">calculatedBitRate:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/duration:">duration:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/isDone">isDone</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/isPaused">isPaused</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/isPlaying">isPlaying</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/isWaiting">isWaiting</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/pause">pause</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/play">play</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/progress:">progress:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/seekToTime:">seekToTime:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/setHTTPProxy:port:">setHTTPProxy:port:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/setSOCKSProxy:port:">setSOCKSProxy:port:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/setVolume:">setVolume:</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/start">start</a></span></li>
	
	<li><span class="nodisclosure"></span><span class="sectionName"><a href="#//api/name/stop">stop</a></span></li>
	
</ul></li>


			</ul>
		</nav>
		<article>
			<div id="contents" class="isShowingTOC" role="main">
				<a title="AudioStreamer Class Reference" name="top"></a>
				<div class="main-navigation navigation-top">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">AudioStreamer Class Reference</h1>
					</div>		
				</div>
				<div id="container">	
					
					<div class="section section-specification"><table cellspacing="0"><tbody>
						<tr>
	<td class="specification-title">Inherits from</td>
	<td class="specification-value">NSObject</td>
</tr><tr>
	<td class="specification-title">Declared in</td>
	<td class="specification-value">AudioStreamer.h</td>
</tr>
						</tbody></table></div>
					
					
					
					
					<div class="section section-overview">
						<a title="Overview" name="overview"></a>
						<h2 class="subtitle subtitle-overview">Overview</h2>
						<p>This class is implemented on top of Apple&rsquo;s AudioQueue framework. This
framework is much too low-level for must use cases, so this class
encapsulates the functionality to provide a nicer interface. The interface
still requires some management, but it is far more sane than dealing with the
AudioQueue structures yourself.</p>

<p>This class is essentially a pipeline of three components to get audio to the
speakers:</p>

<p>CFReadStream => AudioFileStream => AudioQueue</p>

<h3>CFReadStream</h3>

<p>The method of reading HTTP data is using the low-level CFReadStream class
because it allows configuration of proxies and scheduling/rescheduling on the
event loop. All data read from the HTTP stream is piped into the
AudioFileStream which then parses all of the data. This stage of the pipeline
also flags that events are happening to prevent a timeout. All network
activity occurs on the thread which started the audio stream.</p>

<h3>AudioFileStream</h3>

<p>This stage is implemented by Apple frameworks, and parses all audio data.  It
is composed of two callbacks which receive data. The first callback invoked
in series is one which is notified whenever a new property is known about the
audio stream being received. Once all properties have been read, the second
callback beings to be invoked, and this callback is responsible for dealing
with packets.</p>

<p>The second callback is invoked whenever complete &ldquo;audio packets&rdquo; are
available to send to the audio queue. This stage is invoked on the call stack
of the stream which received the data (synchronously with receiving the
data).</p>

<p>Packets received are buffered in a static set of buffers allocated by the
audio queue instance. When a buffer is full, it is committed to the audio
queue, and then the next buffer is moved on to. Multiple packets can possibly
fit in one buffer. When committing a buffer, if there are no more buffers
available, then the http read stream is unscheduled from the run loop and all
currently received data is stored aside for later processing.</p>

<h3>AudioQueue</h3>

<p>This final stage is also implemented by Apple, and receives all of the full
buffers of data from the AudioFileStream&rsquo;s parsed packets. The implementation
manages its own set of threads, and callbacks are invoked on the internal
threads, not the main thread. The two callbacks that the audio stream is
interested in are playback state changing and audio buffers being freed. In
both cases, a message is queued for delivery on the main thread to prevent
synchronization issues.</p>

<p>When a buffer is freed, then it is marked as so, and if the stream was
waiting for a buffer to be freed a message to empty the queue as much as
possible is sent to the main thread&rsquo;s run loop. Otherwise no extra action
need be performed.</p>

<p>The main purpose of knowing when the playback state changes is to change the
state of the player accordingly.</p>

<h2>Errors</h2>

<p>There are a large number of places where error can happen, and the stream can
bail out at any time with an error. Each error has its own code and
corresponding string representation. Any error will halt the entire audio
stream and cease playback. Some errors might want to be handled by the
manager of the AudioStreamer class, but others normally indicate that the
remote stream just won&rsquo;t work.  Occasionally errors might reflect a lack of
local resources.</p>

<p>Error information can be learned from the <a href="#//api/name/errorCode">errorCode</a> property and the
<a href="#//api/name/stringForErrorCode:">stringForErrorCode:</a> method.</p>

<h2>Seeking</h2>

<p>To seek inside an audio stream, the bit rate must be known along with some
other metadata, but this is not known until after the stream has started.
For this reason the seek can fail if not enough data is known yet.</p>

<p>If a seek succeeds, however, the actual method of doing so is as follows.
First, open a stream at position 0 and collect data about the stream, when
the seek is requested, cancel the stream and re-open the connection with the
proper byte offset. This second stream is then used to put data through the
pipelines.</p>

<h2>Example usage</h2>

<p>An audio stream is a one-shot thing. Once initialized, the source cannot be
changed and a single audio stream cannot be re-used. To do this, multiple
AudioStreamer objects need to be created/managed.</p>
					</div>
					
					
					
					
					
					<div class="section section-tasks">
						<a title="Tasks" name="tasks"></a>
						<h2 class="subtitle subtitle-tasks">Tasks</h2>
						
						
						<a title="Creating an audio stream" name="task_Creating an audio stream"></a>
						<h3 class="subsubtitle task-title">Creating an audio stream</h3>

						<ul class="task-list">
							<li>
	<span>
		<code><a href="#//api/name/streamWithURL:">+&nbsp;streamWithURL:</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Properties of the audio stream" name="task_Properties of the audio stream"></a>
						<h3 class="subsubtitle task-title">Properties of the audio stream</h3>

						<ul class="task-list">
							<li>
	<span>
		<code><a href="#//api/name/errorCode">&nbsp;&nbsp;errorCode</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span>
		<code><a href="#//api/name/stringForErrorCode:">+&nbsp;stringForErrorCode:</a></code>
	</span>
	
	
</li><li>
	<span>
		<code><a href="#//api/name/httpHeaders">&nbsp;&nbsp;httpHeaders</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span>
		<code><a href="#//api/name/url">&nbsp;&nbsp;url</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span>
		<code><a href="#//api/name/bufferCnt">&nbsp;&nbsp;bufferCnt</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span>
		<code><a href="#//api/name/bufferSize">&nbsp;&nbsp;bufferSize</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span>
		<code><a href="#//api/name/fileType">&nbsp;&nbsp;fileType</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span>
		<code><a href="#//api/name/bufferInfinite">&nbsp;&nbsp;bufferInfinite</a></code>
	</span>
	<span class="task-item-suffix">property</span>
	
</li><li>
	<span>
		<code><a href="#//api/name/setHTTPProxy:port:">&ndash;&nbsp;setHTTPProxy:port:</a></code>
	</span>
	
	
</li><li>
	<span>
		<code><a href="#//api/name/setSOCKSProxy:port:">&ndash;&nbsp;setSOCKSProxy:port:</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Management of the stream and testing state" name="task_Management of the stream and testing state"></a>
						<h3 class="subsubtitle task-title">Management of the stream and testing state</h3>

						<ul class="task-list">
							<li>
	<span>
		<code><a href="#//api/name/start">&ndash;&nbsp;start</a></code>
	</span>
	
	
</li><li>
	<span>
		<code><a href="#//api/name/stop">&ndash;&nbsp;stop</a></code>
	</span>
	
	
</li><li>
	<span>
		<code><a href="#//api/name/pause">&ndash;&nbsp;pause</a></code>
	</span>
	
	
</li><li>
	<span>
		<code><a href="#//api/name/play">&ndash;&nbsp;play</a></code>
	</span>
	
	
</li><li>
	<span>
		<code><a href="#//api/name/isPlaying">&ndash;&nbsp;isPlaying</a></code>
	</span>
	
	
</li><li>
	<span>
		<code><a href="#//api/name/isPaused">&ndash;&nbsp;isPaused</a></code>
	</span>
	
	
</li><li>
	<span>
		<code><a href="#//api/name/isWaiting">&ndash;&nbsp;isWaiting</a></code>
	</span>
	
	
</li><li>
	<span>
		<code><a href="#//api/name/isDone">&ndash;&nbsp;isDone</a></code>
	</span>
	
	
</li>
						</ul>
						
						
						<a title="Calculated properties and modifying the stream (all can fail)" name="task_Calculated properties and modifying the stream (all can fail)"></a>
						<h3 class="subsubtitle task-title">Calculated properties and modifying the stream (all can fail)</h3>

						<ul class="task-list">
							<li>
	<span>
		<code><a href="#//api/name/seekToTime:">&ndash;&nbsp;seekToTime:</a></code>
	</span>
	
	
</li><li>
	<span>
		<code><a href="#//api/name/calculatedBitRate:">&ndash;&nbsp;calculatedBitRate:</a></code>
	</span>
	
	
</li><li>
	<span>
		<code><a href="#//api/name/setVolume:">&ndash;&nbsp;setVolume:</a></code>
	</span>
	
	
</li><li>
	<span>
		<code><a href="#//api/name/duration:">&ndash;&nbsp;duration:</a></code>
	</span>
	
	
</li><li>
	<span>
		<code><a href="#//api/name/progress:">&ndash;&nbsp;progress:</a></code>
	</span>
	
	
</li>
						</ul>
						
					</div>
					
					
					
					
					
					<div class="section section-methods">
						<a title="Properties" name="properties"></a>
						<h2 class="subtitle subtitle-methods">Properties</h2>
						
						<div class="section-method">
	<a name="//api/name/bufferCnt" title="bufferCnt"></a>
	<h3 class="subsubtitle method-title">bufferCnt</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The number of audio buffers to have</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>@property (readwrite) UInt32 bufferCnt</code></div>
	
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Each audio buffer contains one or more packets of audio data. This amount is
only relevant if infinite buffering is turned off. This is the amount of data
which is stored in memory while playing. Once this memory is full, the remote
connection will not be read and will not receive any more data until one of
the buffers becomes available.</p>

<p>With infinite buffering turned on, this number should be at least 3 or so to
make sure that there&rsquo;s always data to be read. With infinite buffering turned
off, this should be a number to not consume too much memory, but to also keep
up with the remote data stream. The incoming data should always be able to
stay ahead of these buffers being filled</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/bufferInfinite" title="bufferInfinite"></a>
	<h3 class="subsubtitle method-title">bufferInfinite</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Flag if to infinitely buffer data</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>@property (readwrite) BOOL bufferInfinite</code></div>
	
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>If this flag is set to NO, then a statically sized buffer is used as
determined by <a href="#//api/name/bufferCnt">bufferCnt</a> and <a href="#//api/name/bufferSize">bufferSize</a> above and the read stream will be
descheduled when those fill up. This limits the bandwidth consumed to the
remote source and also limits memory usage.</p>

<p>If, however, you wish to hold the entire stream in memory, then you can set
this flag to YES. In this state, the stream will be entirely downloaded,
regardless if the buffers are full or not. This way if the network stream
cuts off halfway through a song, the rest of the song will be downloaded
locally to finish off. The next song might still be in trouble, however&hellip;
With this turned on, memory usage will be higher because the entire stream
will be downloaded as fast as possible, and the bandwidth to the remote will
also be consumed. Depending on the situtation, this might not be that bad of
a problem.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/bufferSize" title="bufferSize"></a>
	<h3 class="subsubtitle method-title">bufferSize</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The default size for each buffer allocated</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>@property (readwrite) UInt32 bufferSize</code></div>
	
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Each buffer&rsquo;s size is attempted to be guessed from the audio stream being
received. This way each buffer is tuned for the audio stream itself. If this
inferring of the buffer size fails, however, this is used as a fallback as
how large each buffer should be.</p>

<p>If you find that this is being used, then it should be coordinated with
<a href="#//api/name/bufferCnt">bufferCnt</a> above to make sure that the audio stays responsive and slightly
behind the HTTP stream</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/errorCode" title="errorCode"></a>
	<h3 class="subsubtitle method-title">errorCode</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>If an error occurs on the stream, then this variable is set with the code
corresponding to the error</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>@property AudioStreamerErrorCode errorCode</code></div>
	
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>By default this is AS_NO_ERROR.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/fileType" title="fileType"></a>
	<h3 class="subsubtitle method-title">fileType</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The file type of this audio stream</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>@property (readwrite) AudioFileTypeID fileType</code></div>
	
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This is an optional parameter. If not specified, then the file type will be
attempted to be inferred from the extension on the <a href="#//api/name/url">url</a> specified. If your URL
doesn&rsquo;t conform to what AudioStreamer internally detects, then use this to
explicitly mark the file type. If marked, then no inferring is done.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/httpHeaders" title="httpHeaders"></a>
	<h3 class="subsubtitle method-title">httpHeaders</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Headers received from the remote source</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>@property (readonly) NSDictionary *httpHeaders</code></div>
	
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Used to determine file size, but other information may be useful as well</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/url" title="url"></a>
	<h3 class="subsubtitle method-title">url</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>The remote resource that this stream is playing, this is a read-only property
and cannot be changed after creation</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>@property (readonly) NSURL *url</code></div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Class Methods" name="class_methods"></a>
						<h2 class="subtitle subtitle-methods">Class Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/streamWithURL:" title="streamWithURL:"></a>
	<h3 class="subsubtitle method-title">streamWithURL:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Allocate a new audio stream with the specified <a href="#//api/name/url">url</a></p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>+ (AudioStreamer *)streamWithURL:(NSURL *)<em>url</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>url</em></dt>
			<dd><p>the remote source of audio</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>the stream to configure and being playback with</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Thre created stream has not started playback. This gives an opportunity to
configure the rest of the stream as necessary. To <a href="#//api/name/start">start</a> playback, send the
stream an explicit &lsquo;start&rsquo; message.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/stringForErrorCode:" title="stringForErrorCode:"></a>
	<h3 class="subsubtitle method-title">stringForErrorCode:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Converts an error code to a string</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>+ (NSString *)stringForErrorCode:(AudioStreamerErrorCode)<em>anErrorCode</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>anErrorCode</em></dt>
			<dd><p>the code to convert, usually from the <a href="#//api/name/errorCode">errorCode</a> field</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>the string description of the error code (as best as possible)</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
					
					<div class="section section-methods">
						<a title="Instance Methods" name="instance_methods"></a>
						<h2 class="subtitle subtitle-methods">Instance Methods</h2>
						
						<div class="section-method">
	<a name="//api/name/calculatedBitRate:" title="calculatedBitRate:"></a>
	<h3 class="subsubtitle method-title">calculatedBitRate:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Calculates the bit rate of the stream</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)calculatedBitRate:(double *)<em>ret</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>ret</em></dt>
			<dd><p>the double to fill in with the bit rate on success.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the bit rate could be calculated with a high degree of
certainty, or NO if it could not be.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>All packets received so far contribute to the calculation of the bit rate.
This is used internally to determine other factors like duration and
progress.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/duration:" title="duration:"></a>
	<h3 class="subsubtitle method-title">duration:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Calculates the duration of the audio stream in seconds</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)duration:(double *)<em>ret</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>ret</em></dt>
			<dd><p>where to fill in with the duration of the stream on success.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if ret contains the duration of the stream, or NO if the duration
could not be determined. In the NO case, the contents of ret are
undefined</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>Uses information about the size of the file and the calculated bit rate to
determine the duration of the stream.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/isDone" title="isDone"></a>
	<h3 class="subsubtitle method-title">isDone</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Tests whether the stream is done with all operation</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)isDone</code></div>
	
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the stream is done, or NO Otherwise</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>A stream can be &lsquo;done&rsquo; if it either hits an error or consumes all audio data
from the remote source.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/isPaused" title="isPaused"></a>
	<h3 class="subsubtitle method-title">isPaused</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Tests whether the stream is paused</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)isPaused</code></div>
	
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the stream is paused, or NO Otherwise</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>A stream is not paused if it is waiting for data. A stream is paused if and
only if it used to be playing, but the it was paused via the <a href="#//api/name/pause">pause</a> method.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/isPlaying" title="isPlaying"></a>
	<h3 class="subsubtitle method-title">isPlaying</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Tests whether the stream is playing</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)isPlaying</code></div>
	
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the stream is playing, or NO Otherwise</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/isWaiting" title="isWaiting"></a>
	<h3 class="subsubtitle method-title">isWaiting</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Tests whether the stream is waiting</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)isWaiting</code></div>
	
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the stream is waiting, or NO Otherwise</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This could either mean that we&rsquo;re waiting on data from the network or waiting
for some event with the AudioQueue instance.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/pause" title="pause"></a>
	<h3 class="subsubtitle method-title">pause</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Pause the audio stream if playing</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)pause</code></div>
	
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the audio stream was paused, or NO if it was not in the
AS_PLAYING state or an error occurred.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/play" title="play"></a>
	<h3 class="subsubtitle method-title">play</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Plays the audio stream if paused</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)play</code></div>
	
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the audio stream entered into the AS_PLAYING state, or NO if
any other error or bad state was encountered.</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/progress:" title="progress:"></a>
	<h3 class="subsubtitle method-title">progress:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Calculate the progress into the stream, in seconds</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)progress:(double *)<em>ret</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>ret</em></dt>
			<dd><p>a double which is filled in with the progress of the stream. The
contents are undefined if NO is returned.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the progress of the stream was determined, or NO if the
progress could not be determined at this time.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>The AudioQueue instance is polled to determine the current time into the
stream, and this is returned.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/seekToTime:" title="seekToTime:"></a>
	<h3 class="subsubtitle method-title">seekToTime:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Seek to a specified time in the audio stream</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)seekToTime:(double)<em>newSeekTime</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>newSeekTime</em></dt>
			<dd><p>the time in seconds to seek to</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the stream will be seeking, or NO if the stream did not have
enough information available to it to seek to the specified time.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This can only happen once the bit rate of the stream is konwn because
otherwise the byte offset to the stream is not known. For this reason the
function can fail to actually seek.</p>

<p>Additionally, seeking to a new time involves re-opening the audio stream with
the remote source, although this is done under the hood.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/setHTTPProxy:port:" title="setHTTPProxy:port:"></a>
	<h3 class="subsubtitle method-title">setHTTPProxy:port:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Set an HTTP proxy for this stream</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)setHTTPProxy:(NSString *)<em>host</em> port:(int)<em>port</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>host</em></dt>
			<dd><p>the address/hostname of the remote host</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>port</em></dt>
			<dd><p>the port of the proxy</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/setSOCKSProxy:port:" title="setSOCKSProxy:port:"></a>
	<h3 class="subsubtitle method-title">setSOCKSProxy:port:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Set SOCKS proxy for this stream</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)setSOCKSProxy:(NSString *)<em>host</em> port:(int)<em>port</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>host</em></dt>
			<dd><p>the address/hostname of the remote host</p></dd>
		</dl>
		
		<dl class="argument-def parameter-def">
			<dt><em>port</em></dt>
			<dd><p>the port of the proxy</p></dd>
		</dl>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/setVolume:" title="setVolume:"></a>
	<h3 class="subsubtitle method-title">setVolume:</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Attempt to set the volume on the audio queue</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)setVolume:(double)<em>volume</em></code></div>
	
	
	<div class="method-subsection arguments-section parameters">
		<h4 class="method-subtitle parameter-title">Parameters</h4>
		
		<dl class="argument-def parameter-def">
			<dt><em>volume</em></dt>
			<dd><p>the volume to set the stream to in the range 0.0-1.0 where 1.0
is the loudest and 0.0 is silent.</p></dd>
		</dl>
		
	</div>
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the volume was set, or NO if the audio queue wasn&rsquo;t to have
the volume ready to be set. When the state for this audio streamer
changes internally to have a stream, then setVolume: will work</p>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/start" title="start"></a>
	<h3 class="subsubtitle method-title">start</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Starts playback of this audio stream.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (BOOL)start</code></div>
	
	
	
	
	<div class="method-subsection return">
		<h4 class="method-subtitle parameter-title">Return Value</h4>
		<p>YES if the stream was started, or NO if the stream was previously
started and this had no effect.</p>
	</div>
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This method can only be invoked once, and other methods will not work before
this method has been invoked. All properties (like proxies) must be set
before this method is invoked.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
						<div class="section-method">
	<a name="//api/name/stop" title="stop"></a>
	<h3 class="subsubtitle method-title">stop</h3>
	
	
	
	<div class="method-subsection brief-description">
		<p>Stop all streams, cleaning up resources and preventing all further events
from ocurring.</p>
	</div>		
	
	
	<div class="method-subsection method-declaration"><code>- (void)stop</code></div>
	
	
	
	
	
	
	
	
	<div class="method-subsection discussion-section">
		<h4 class="method-subtitle">Discussion</h4>
		<p>This method may be invoked at any time from any point of the audio stream as
a signal of error happening. This method sets the state to AS_STOPPED if it
isn&rsquo;t already AS_STOPPED or AS_DONE.</p>
	</div>
	
	
	
	
	
	
	
	<div class="method-subsection declared-in-section">
		<h4 class="method-subtitle">Declared In</h4>
		<code class="declared-in-ref">AudioStreamer.h</code><br />
	</div>				
	
	
</div>
						
					</div>
					
					
				</div>
				<div class="main-navigation navigation-bottom">
					<ul>
	<li><a href="../index.html">Index</a></li>
	<li><a href="../hierarchy.html">Hierarchy</a></li>
</ul>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2012 _. All rights reserved. (Last updated: 2012-06-15)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.0.5 (build 789)</a>.</span></p>
						
					</div>
				</div>
			</div>
		</article>
		<script type="text/javascript">
			function jumpToChange()
			{
				window.location.hash = this.options[this.selectedIndex].value;
			}
			
			function toggleTOC()
			{
				var contents = document.getElementById('contents');
				var tocContainer = document.getElementById('tocContainer');
				
				if (this.getAttribute('class') == 'open')
				{
					this.setAttribute('class', '');
					contents.setAttribute('class', '');
					tocContainer.setAttribute('class', '');
					
					window.name = "hideTOC";
				}
				else
				{
					this.setAttribute('class', 'open');
					contents.setAttribute('class', 'isShowingTOC');
					tocContainer.setAttribute('class', 'isShowingTOC');
					
					window.name = "";
				}
				return false;
			}
			
			function toggleTOCEntryChildren(e)
			{
				e.stopPropagation();
				var currentClass = this.getAttribute('class');
				if (currentClass == 'children') {
					this.setAttribute('class', 'children open');
				}
				else if (currentClass == 'children open') {
					this.setAttribute('class', 'children');
				}
				return false;
			}
			
			function tocEntryClick(e)
			{
				e.stopPropagation();
				return true;
			}
			
			function init()
			{
				var selectElement = document.getElementById('jumpTo');
				selectElement.addEventListener('change', jumpToChange, false);
				
				var tocButton = document.getElementById('table_of_contents');
				tocButton.addEventListener('click', toggleTOC, false);
				
				var taskTreeItem = document.getElementById('task_treeitem');
				if (taskTreeItem.getElementsByTagName('li').length > 0)
				{
					taskTreeItem.setAttribute('class', 'children');
					taskTreeItem.firstChild.setAttribute('class', 'disclosure');
				}
				
				var tocList = document.getElementById('toc');
				
				var tocEntries = tocList.getElementsByTagName('li');
				for (var i = 0; i < tocEntries.length; i++) {
					tocEntries[i].addEventListener('click', toggleTOCEntryChildren, false);
				}
				
				var tocLinks = tocList.getElementsByTagName('a');
				for (var i = 0; i < tocLinks.length; i++) {
					tocLinks[i].addEventListener('click', tocEntryClick, false);
				}
				
				if (window.name == "hideTOC") {
					toggleTOC.call(tocButton);
				}
			}
			
			window.onload = init;
		</script>
	</body>
</html>